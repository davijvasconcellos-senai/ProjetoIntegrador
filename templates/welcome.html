<!-- =============================================================
  Arquivo: welcome.html
  Objetivo: Página inicial de boas-vindas com destaque visual, carrossel
            informativo e links de navegação para login/cadastro.
  Observações:
    - Elementos estilizados inline + index.css para reaproveitar tokens.
    - Carrossel pode ser enriquecido futuramente com JS.
============================================================= -->
<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bem-vindo • Manutenção Preditiva</title>
  <link rel="stylesheet" href="/static/css/index.css" />
  <style>
    .welcome-hero {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      align-items: center;
      justify-items: center;
      min-height: 70vh;
      text-align: center;
      padding: 30px;
      background: linear-gradient(135deg, #eef2ff 0%, #e6f0ff 100%);
      border-radius: 12px;
    }

    .welcome-logo {
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #ffffff 0%, #f3f6ff 100%);
      border-radius: 16px;
      padding: 16px 22px;
      box-shadow: 0 8px 24px rgba(5, 17, 72, 0.18);
      /* sem contorno para destacar apenas o hover */
    }

    .welcome-logo:hover {
      box-shadow: 0 12px 28px rgba(5, 17, 72, 0.28), 0 0 0 6px rgba(102, 126, 234, 0.18);
    }

    .welcome-logo img {
      height: 140px;
      width: auto;
      filter: drop-shadow(0 6px 14px rgba(5, 17, 72, 0.22));
      transition: transform .25s ease, filter .25s ease;
    }

    .welcome-logo:hover img {
      transform: translateY(-2px) scale(1.02);
    }

    .welcome-hero h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: 28px;
      color: #051148;
      letter-spacing: 1px;
    }

    .welcome-hero p {
      max-width: 820px;
      color: #334155;
      font-size: 16px;
      line-height: 1.7;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 16px;
      margin-top: 10px;
    }

    /* Carrossel de informações */
    .carousel {
      position: relative;
      width: 100%;
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 18px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
      overflow: hidden;
      margin-top: 20px;
    }

    .carousel-track {
      display: flex;
      gap: 16px;
      transition: transform .4s cubic-bezier(.4, 0, .2, 1);
      will-change: transform;
    }

    .carousel-slide {
      min-width: 280px;
      max-width: 320px;
      flex: 0 0 auto;
      background: #f8fafc;
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      padding: 16px;
    }

    .carousel-slide h4 {
      font-family: 'Orbitron', sans-serif;
      font-size: 16px;
      color: #1f2937;
      margin-bottom: 8px;
    }

    .carousel-slide p {
      color: #334155;
      font-size: 14px;
    }

    .carousel-actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 12px;
    }

    .carousel-btn {
      background: #667eea;
      color: #fff;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background .25s ease, transform .25s ease;
    }

    .carousel-btn:hover {
      background: #5a6fd8;
      transform: translateY(-1px);
    }

    .carousel-indicators {
      display: flex;
      gap: 6px;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #cbd5e1;
    }

    .dot.active {
      background: #667eea;
    }

    @media (max-width: 768px) {
      .carousel-slide {
        min-width: 240px;
        max-width: 260px;
      }
    }

    .video-section {
      margin-top: 24px;
      width: 100%;
    }

    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 16px;
      align-items: start;
    }

    .video-card {
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 12px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
    }

    .video-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 14px;
      color: #1f2937;
      margin-bottom: 10px;
    }

    /* Responsive embed */
    .video-wrapper {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%;
      /* 16:9 */
      border-radius: 10px;
      overflow: hidden;
      background: #000;
    }

    .video-wrapper iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }

    .card {
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 18px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
      text-align: left;
    }

    .card h3 {
      font-family: 'Orbitron', sans-serif;
      font-size: 16px;
      color: #1f2937;
      margin-bottom: 10px;
    }

    .cta {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: #667eea;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 12px 18px;
      font-weight: 600;
      text-decoration: none;
      transition: background .25s ease, transform .25s ease;
      margin-top: 10px;
    }

    .cta:hover {
      background: #5a6fd8;
      transform: translateY(-1px);
    }

    .cta:active {
      transform: scale(.98);
    }

    @media (max-width: 768px) {
      .welcome-hero {
        min-height: 60vh;
        padding: 20px;
      }

      .welcome-logo img {
        height: 110px;
      }

      .welcome-hero h1 {
        font-size: 24px;
      }

      .welcome-hero p {
        font-size: 15px;
      }
    }
  </style>
</head>

<body>
  <div class="dashboard-content">
    <section class="welcome-hero" aria-labelledby="welcome-title">
      <div class="welcome-logo" aria-hidden="false" role="img" aria-label="Logo do Projeto">
        <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo do Projeto" />
      </div>
      <h1 id="welcome-title">Bem-vindo à Plataforma de Manutenção Preditiva - PredictivePulse</h1>
      <p>
        Manutenção preditiva é uma abordagem de confiabilidade que usa dados de sensores, históricos
        de falhas e algoritmos para prever quando um equipamento poderá apresentar problemas.
        Em vez de aguardar uma falha ou seguir apenas um calendário fixo, você atua com base em
        sinais reais do ativo, reduzindo paradas não planejadas, custos de manutenção e melhorando a
        segurança operacional.
      </p>
      <div class="cards" role="list">
        <div class="card" role="listitem">
          <h3>Como esta plataforma ajuda</h3>
          <p>
            Centralizamos alertas, histórico de falhas, status de sensores e um calendário operacional.
            Assim, você visualiza riscos, acompanha tendências e prioriza intervenções com rapidez.
          </p>
        </div>
        <div class="card" role="listitem">
          <h3>Principais recursos</h3>
          <p>
            Painel com avisos importantes, histórico de falhas, métricas de sensores e navegação simples
            para áreas do cliente, supervisão e técnica.
          </p>
        </div>
        <div class="card" role="listitem">
          <h3>Próximo passo</h3>
          <p>
            Para acessar o painel e explorar os dados atuais,
            faça login com sua conta de usuário.
          </p>
          <a class="cta" href="/login" aria-label="Fazer login e acessar o painel">Fazer login</a>
        </div>
      </div>

      <!-- Carrossel de informações -->
      <div class="carousel" aria-label="Destaques da plataforma">
        <div class="carousel-track" id="carouselTrack">
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="1 de 14">
            <h4>Redução de Paradas</h4>
            <p>Antecipe falhas com dados reais e minimize interrupções não planejadas.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="2 de 14">
            <h4>Custos Otimizados</h4>
            <p>Planeje intervenções no momento certo, evitando trocas desnecessárias.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="3 de 14">
            <h4>Segurança Operacional</h4>
            <p>Monitore tendências e riscos para manter operações mais seguras.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="4 de 14">
            <h4>Visão Unificada</h4>
            <p>Painéis, alertas e histórico integrados para decisões mais rápidas.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="5 de 14">
            <h4>Confiabilidade Aumentada</h4>
            <p>Eleve o MTBF e reduza o MTTR com manutenção orientada por dados.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="6 de 14">
            <h4>Analytics e Tendências</h4>
            <p>Detecte padrões em vibração, temperatura e ruído para prever falhas.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="7 de 14">
            <h4>Integrações</h4>
            <p>Conecte-se a ERPs e CMMS para ordens de serviço automatizadas.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="8 de 14">
            <h4>Suporte e Auditoria</h4>
            <p>Trilhas de decisão e relatórios exportáveis para auditorias e conformidade.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="9 de 14">
            <h4>Projeto Integrador</h4>
            <p>PREDICTIVEPULSE — plataforma didática que simula manutenção preditiva na Indústria 4.0.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="10 de 14">
            <h4>Objetivo Geral</h4>
            <p>Monitorar máquinas, detectar anomalias em tempo real e registrar ordens de manutenção.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="11 de 14">
            <h4>Módulos Principais</h4>
            <p>Gerador de dados IoT, API de coleta/análise e dashboard com alertas/indicadores.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="12 de 14">
            <h4>Metodologia</h4>
            <p>Arquitetura → Simulador IoT → API → Análise → Ordens → Dashboard → Testes.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="14 de 14">
            <h4>Palavras-chave</h4>
            <p>Manutenção preditiva, IoT, simulação industrial, análise de dados, Indústria 4.0.</p>
          </div>
          <div class="carousel-slide" role="group" aria-roledescription="slide" aria-label="15 de 16"
            data-stop-reset="true">
            <h4>Justificativa</h4>
            <p>Atende à demanda crescente por manutenção inteligente na Indústria 4.0, oferecendo um ambiente
              educacional prático onde alunos vivenciam monitoramento contínuo, análise de dados e integração de
              tecnologias (IoT, APIs, bancos de dados) alinhadas às exigências do mercado.</p>
          </div>
        </div>
        <div class="carousel-actions">
          <button class="carousel-btn" id="prevBtn" aria-label="Slide anterior">‹</button>
          <div class="carousel-indicators" id="carouselDots"></div>
          <button class="carousel-btn" id="nextBtn" aria-label="Próximo slide">›</button>
        </div>
      </div>

      <script>
        (function () {
          const track = document.getElementById('carouselTrack');
          const slides = Array.from(track.children);
          const prev = document.getElementById('prevBtn');
          const next = document.getElementById('nextBtn');
          const dotsWrap = document.getElementById('carouselDots');
          let index = 0;
          const gap = 16;
          let timer = null;
          const intervalMs = 5000; // 5s

          // Create dots
          slides.forEach((_, i) => {
            const dot = document.createElement('span');
            dot.className = 'dot' + (i === 0 ? ' active' : '');
            dot.setAttribute('role', 'button');
            dot.setAttribute('aria-label', 'Ir para slide ' + (i + 1));
            dot.addEventListener('click', () => goTo(i));
            dotsWrap.appendChild(dot);
          });

          function update() {
            const slideWidth = slides[0].getBoundingClientRect().width;
            const containerWidth = track.parentElement.getBoundingClientRect().width;
            const visibleCount = Math.max(1, Math.floor((containerWidth + gap) / (slideWidth + gap)));
            const maxIndex = Math.max(0, slides.length - visibleCount);
            // clamp index so we never translate beyond the last fully visible set
            index = Math.min(index, maxIndex);
            const offset = index * (slideWidth + gap);
            track.style.transform = `translateX(-${offset}px)`;
            // update dots
            Array.from(dotsWrap.children).forEach((d, i) => {
              d.classList.toggle('active', i === index);
            });
          }
          function goTo(i) {
            const slideWidth = slides[0].getBoundingClientRect().width;
            const containerWidth = track.parentElement.getBoundingClientRect().width;
            const visibleCount = Math.max(1, Math.floor((containerWidth + gap) / (slideWidth + gap)));
            const maxIndex = Math.max(0, slides.length - visibleCount);
            index = Math.max(0, Math.min(i, maxIndex));
            update();
          }
          function start() {
            stop();
            timer = setInterval(() => {
              // next index
              const nextIndex = index < slides.length - 1 ? index + 1 : 0;
              const nextSlide = slides[nextIndex];
              // if next slide is Justificativa (marked), reset to start
              if (nextSlide && nextSlide.hasAttribute('data-stop-reset')) {
                goTo(0);
              } else {
                goTo(nextIndex);
              }
            }, intervalMs);
          }
          function stop() { if (timer) { clearInterval(timer); timer = null; } }

          prev.addEventListener('click', () => { stop(); goTo(index - 1); start(); });
          next.addEventListener('click', () => { stop(); goTo(index + 1); start(); });

          // Keyboard support
          track.setAttribute('tabindex', '0');
          track.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') goTo(index - 1);
            if (e.key === 'ArrowRight') goTo(index + 1);
          });

          // Conditional pause behavior: only on non-mobile viewports
          let pauseBound = false;
          function bindPauseHandlers() {
            const isMobile = window.matchMedia('(max-width: 768px)').matches;
            if (!isMobile && !pauseBound) {
              track.addEventListener('mouseenter', stop);
              track.addEventListener('mouseleave', start);
              track.addEventListener('focusin', stop);
              track.addEventListener('focusout', start);
              pauseBound = true;
            } else if (isMobile && pauseBound) {
              track.removeEventListener('mouseenter', stop);
              track.removeEventListener('mouseleave', start);
              track.removeEventListener('focusin', stop);
              track.removeEventListener('focusout', start);
              pauseBound = false;
            }
          }

          // Resize recalculation
          window.addEventListener('resize', () => { update(); bindPauseHandlers(); });
          update();
          bindPauseHandlers();
          start();
        })();
      </script>

      <div class="video-section" aria-labelledby="videos-title">
        <h2 id="videos-title" class="video-title">Assista e aprenda mais sobre Manutenção Preditiva</h2>
        <div class="video-grid">
          <div class="video-card">
            <div class="video-wrapper">
              <iframe src="https://www.youtube.com/embed/XyE4DZ51fsE?si=nftBevMD6NYkWwcv"
                title="Introdução à Manutenção Preditiva"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
          </div>
          <!-- Pronto para adicionar mais vídeos; basta duplicar o bloco acima e trocar o src/title -->
        </div>
      </div>
    </section>
  </div>
  {% include '_footer.html' %}
</body>

</html>